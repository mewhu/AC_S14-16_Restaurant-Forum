<!DOCTYPE html>
<html>
  <head>
    <title>RestaurantForum</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <%# notice及alert為Rails提供的flash message helper, 會讀取controller中設定的flash[:notice]及flash[:alert]字串 %>
    <%# 使用"devise"的話，"devise"直接幫忙做掉controller中的flash[:notice]及flash[:alert], 故此處view直接讀取即可 %>
    <%# 用<p>去顯示flash message, 同時保留客製CSS型式的空間 %>
    <p class="mew-customize-notice"><%= notice %></p>
    <p class="mew-customize-alert"><%= alert %></p>


    <%# current_user 是 Devise 定義的 helper method。如果請求進入網頁的人是在登入狀態，它會回傳一個 User instance；若沒有登入，就會回傳 nil %>
    <% if current_user %>
      Hi, <%= current_user.email %>
      <%= link_to("登出", destroy_user_session_path, method: :delete) %>
      <%= link_to('修改密碼', edit_user_registration_path) %>
    <% else %>
      <%= link_to('註冊', new_user_registration_path) %> |
      <%= link_to('登入', new_user_session_path) %>
    <% end %>


    <%= yield %>
  </body>
</html>
